
{% extends 'layout.html' %}




{% block content %}


<div class="upload-buuton" style="background-color: beige;">
    
    <form
      id="upload-form"
      action="{{ url_for('upload') }}"
      method="POST"
      enctype="multipart/form-data"
    >
      <strong>Files:</strong><br />
      <input id="file-picker" type="file" name="file" multiple />
      <div id="msg"></div>
      <input type="submit" value="Upload!" id="upload-button" />
    </form>
</div>
  <script>
    $('#file-picker').change(function () {
      var input = document.getElementById('file-picker');

      for (var i = 0; i < input.files.length; i++) {
        //koala.jpg, koala.JPG substring(index) lastIndexOf('a') koala.1.jpg
        var ext = input.files[i].name
          .substring(input.files[i].name.lastIndexOf('.') + 1)
          .toLowerCase();

        if (
          ext == 'jpg' ||
          ext == 'png' ||
          ext == 'zip' ||
          ext == 'pdf' ||
          ext == 'doc' ||
          ext == 'xslx' ||
          ext == 'docx'
        ) {
          $('#msg').text('Files are supported');
        } else {
          $('#msg').text('Files are NOT supported');
          document.getElementById('file-picker').value = '';
        }
      }
    });
  </script>

{% endblock %} 